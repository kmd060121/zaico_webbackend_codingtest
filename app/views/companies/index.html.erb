<div style="max-width: 1200px; margin: 0 auto; padding: 20px;">
  <h1>アカウント一覧</h1>

  <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
    <thead>
      <tr style="background: #f0f0f0; border-bottom: 2px solid #333;">
        <th style="padding: 10px; text-align: left;">ID</th>
        <th style="padding: 10px; text-align: left;">会社名</th>
        <th style="padding: 10px; text-align: right;">在庫数</th>
        <th style="padding: 10px; text-align: right;">入庫数</th>
        <th style="padding: 10px; text-align: right;">出庫数</th>
        <th style="padding: 10px; text-align: center;">規模</th>
        <th style="padding: 10px; text-align: center;">操作</th>
      </tr>
    </thead>
    <tbody>
      <% @companies.each do |company| %>
        <% inv_count = company.inventories.count %>
        <% pur_count = company.purchases.count %>
        <% del_count = company.deliveries.count %>
        <% scale = if inv_count >= 200_000
             'MAX'
           elsif inv_count >= 50_000
             'LARGE'
           elsif inv_count >= 1_000
             'MEDIUM'
           else
             'SMALL'
           end %>
        <% scale_color = case scale
             when 'MAX' then '#ff0000'
             when 'LARGE' then '#ff8800'
             when 'MEDIUM' then '#0088ff'
             else '#666666'
             end %>
        <tr style="border-bottom: 1px solid #ddd;">
          <td style="padding: 10px;"><%= company.id %></td>
          <td style="padding: 10px;"><%= company.name %></td>
          <td style="padding: 10px; text-align: right;"><%= number_with_delimiter(inv_count) %></td>
          <td style="padding: 10px; text-align: right;"><%= number_with_delimiter(pur_count) %></td>
          <td style="padding: 10px; text-align: right;"><%= number_with_delimiter(del_count) %></td>
          <td style="padding: 10px; text-align: center; font-weight: bold; color: <%= scale_color %>;"><%= scale %></td>
          <td style="padding: 10px; text-align: center;">
            <%= link_to '在庫一覧', company_path(company), style: 'padding: 5px 15px; background: #0066cc; color: white; text-decoration: none; border-radius: 3px;' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
